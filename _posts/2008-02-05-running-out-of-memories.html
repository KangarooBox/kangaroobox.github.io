---
layout: post
title: Running out of memories...
date: '2008-02-05T13:29:00.001-05:00'
author: Richard Hurt
tags: 
modified_time: '2008-02-05T14:39:14.760-05:00'
thumbnail: http://4.bp.blogspot.com/_JBRPU8rTHVQ/R6i5f5ROuVI/AAAAAAAABC4/PZUy8e3Vq24/s72-c/IMG_0099.JPG
blogger_id: tag:blogger.com,1999:blog-5693054744995313095.post-369143093130268366
blogger_orig_url: http://kangaroobox.blogspot.com/2008/02/running-out-of-memories.html
permalink: 2008/02/running-out-of-memories.html
---

So, a couple of weeks ago I was thinking about storage and how we didn't have enough of it.  There were two solutions to the problem; purchase more individual disks and put them in our servers, or get a SAN/NAS.  Putting more disks inside the servers is quick and easy but it really doesn't solve the problem.  What you end up with is more storage than you need on some servers and not enough on others.<br /><br />For example, our web server has 80G of space spread over a 2 drive RAID mirror.  We are only using about 5GB total but the 80G drives are all we have.  Meanwhile there are other servers in the rack (can you say <a href="http://apt-mirror.sourceforge.net/">apt-mirror</a>?) that are starving for space.  The traditional answer is to purchase more drives and max out the server and I almost when that route.  Fortunately my experience in enterprise computing slapped me in the face and told me to try something else.<br /><br />SANs (Storage Attached Network) and NAS (Network Attached Storage) devices are purposely built to solve this problem.  NAS devices are generally boxes of drives that can be mounted over protocols like NFS or FTP.  They are fairly cheap and work fairly well as slower, less reliable hard drives.  A SAN, on the other hand, is generally fast, reliable, and expensive.  They use things like <a href="http://en.wikipedia.org/wiki/Iscsi">iSCSI</a> or <a href="http://en.wikipedia.org/wiki/Fibre_Channel">Fibre Channel</a> and expensive, high performance SCSI drives to do their magic.  They are also quite difficult to design and build out.  All of these things add up to lots of $$$ - and the budget just didn't allow for this type of cash outlay.<br /><br />This is where <a href="http://www.coraid.com/">Coraid</a> comes into the picture.  After scouring the 'Net for several days I came across their web site and liked what they were doing.  Instead of using expensive protocols and hardware, they went the other direction and used commodity products in a new way.  Where most SANs use Fibre Channel to move data around Coraid is using good ol' TCP.  The secret sauce is that they are only using the barest minimum of TCP (the first two layer) and slapping an open protocol on top of it.  There is no fancy switches or other networking equipment involved.  Just build out a dedicated network (1GB will do) and plug the Coraid EtherDrive and all your servers into it and your good to go.  Best of all its all been incorporated into the Linux kernel so it works out of the box with most major<br />distributions like Debian!  They even have Mac OS X and Windows drivers too.<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_JBRPU8rTHVQ/R6i5f5ROuVI/AAAAAAAABC4/PZUy8e3Vq24/s1600-h/IMG_0099.JPG"><img dragover="true" style="margin: 0pt 0pt 10px 10px; float: right; cursor: pointer;" src="http://4.bp.blogspot.com/_JBRPU8rTHVQ/R6i5f5ROuVI/AAAAAAAABC4/PZUy8e3Vq24/s200/IMG_0099.JPG" alt="" id="BLOGGER_PHOTO_ID_5163580930380446034" border="0" /></a><br /><br />The Coraid package just arrived this afternoon and I'm pretty excited to get to work building out our new SAN.  I'll let you know what happens and keep this blog up-to-date on the progress of our new storage solution.  Hopefully it will all go well and I'll be able to say nice things about it.  We'll see...
